<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Home</title>
        <meta charset="utf-8">
        <meta name="description" content="Home">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link id="appleTouch" rel="apple-touch-icon" sizes="180x180" href="favicon/light/apple-touch-icon.png">
        <link id="favicon32" rel="icon" type="image/png" sizes="32x32" href="favicon/light/favicon-32x32.png">
        <link id="favicon16" rel="icon" type="image/png" sizes="16x16" href="favicon/light/favicon-16x16.png">
        <link id="manifest" rel="manifest" href="favicon/light/site.webmanifest">
        <link rel="stylesheet" href="styles/home.css"/>
        <link rel="stylesheet" href="styles/style.css"/>
        <link rel="stylesheet" href="styles/video.css"/>
    </head>
    <body>
        <button id="theme-toggle">
            Dark Mode
        </button>
        <div id="mouse-effect"></div>
        <canvas id="particle-canvas"></canvas>

        <header class="header">
            <div class="navbar">
                <div class="navbar-item">
                    <a class="txt" href="home.html">Home</a>
                </div>
                <div class="navbar-item">
                    <div class="dropdown">
                        <button class="dropbtn txt">Academic Results <span class="dropIcon">⇽</span></button>
                        <div class="dropdown-content">
                            <a class="txt" href="year1.html">Year 1 Results</a>
                            <a class="txt" href="year2.html">Year 2 Results</a>
                            <a class="txt" href="year3.html">Year 3 Results</a>
                            <a class="txt" href="year4.html">Year 4 Results</a>
                        </div>
                    </div>
                </div>
                <div class="navbar-item">
                    <a class="txt" href="extra1.html">Hobbies and Interests</a>
                </div>
                <div class="navbar-item">
                    <a class="txt" href="extra2.html">Career Goals & Projects</a>
                </div>
                <div class="navbar-item">
                    <a class="txt" href="index.html">Logout</a>
                </div>
            </div>
        </header>
        <section>
            <div class="info-container">
                <div>
                    <h1>Welcome to My Student Portfolio</h1>
                    <p id="dateTime"></p>
                </div>

                <div class="profile">
                    <img src="images/me.jpg" alt="Profile Picture">
                    <h2>Mutale Musona</h2>
                </div>
                <div>
                    <a href="profile.html" class="link-btn btn">Visit My Profile</a>
                    <div id="typing"></div>
                </div>
            </div>

            <div class="img-container show-cursor container right">
                <div class="slideshow-container">
                    <div class="slides fade"><img src="images/portfolio_image_1.jpg" alt="Slide 1"></div>
                    <div class="slides fade"><img src="images/portfolio_image_2.png" alt="Slide 2"></div>
                    <div class="slides fade"><img src="images/portfolio_image_3.png" alt="Slide 3"></div>
                    <div class="slides fade"><img src="images/portfolio_image_4.jpg" alt="Slide 4"></div>
                    <div class="slides fade"><img src="images/portfolio_image_5.png" alt="Slide 5"></div>

                    <a class="prev" onclick="plusSlides(-1)">❮</a>
                    <a class="next" onclick="plusSlides(1)">❯</a>
                </div>
                <div class="dot-container">
                    <span class="dot" onclick="currentSlide(1)"></span> 
                    <span class="dot" onclick="currentSlide(2)"></span> 
                    <span class="dot" onclick="currentSlide(3)"></span> 
                    <span class="dot" onclick="currentSlide(4)"></span> 
                    <span class="dot" onclick="currentSlide(5)"></span> 
                </div>
                <div class="slide-caption">
                    <span id="slideCaption">My Test Text</span>
                </div>
            </div>
        </section>
        <section>
            <div class="intro-container show-cursor container bottom">
                <h2>Website Introduction</h2>
                <p>Here is a short video walkthrough explaining how to use and navigate my website:</p>
                
                <div class="custom-video" id="videoPlayer">
                    <video id="myVideo">
                        <source src="videos/explaination.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>

                    <div class="controls" id="controls">
                        <button id="playPause" class="btn">▶</button>
                        
                        <div class="progress-container">
                        <div id="progress" class="progress"></div>
                        </div>

                        <span id="time" class="time">0:00 / 0:00</span>
                        
                        <input type="range" id="volume" class="volume" min="0" max="1" step="0.05" value="1">
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <p>© 2025 Student Portfolio - All Rights Reserved</p>
        </footer>

        <script>
            // Date & Time
            function updateDateTime() {
                const now = new Date();
                document.getElementById("dateTime").textContent = 
                    "Today is " + now.toDateString() + " " + now.toLocaleTimeString();
            }
            setInterval(updateDateTime, 1000);
            updateDateTime();

            // Slideshow
            let slideIndex = 0;
            let slideTimer;

            
            // Add captions for each slide
            const slideCaptions = [
                "These Are A Few Examples Of What I can do.",
                "I Have Knowledge In Creating AI Models With Machine Learning. <a href='https://github.com/m-musona/Simple-Sentiment-Analyzer-API' class='link'>See Github.</a>",
                "I Have Knowledge In Graphics Rendering In OpenGL, Vulkan and DirectX 11. <a href='https://github.com/m-musona/BasicShapeRenderingOpenGL' class='link'>See Github.</a>",
                "I Have Knowledge In Building Web Backends In C# with ASP.NET. <a href='#' class='link'>See Github.</a>",
                "I Have Knowledge In Building Apps With Flutter. <a href='#' class='link'>See Github.</a>"
            ];

            function showSlides(n) {
                let slides = document.getElementsByClassName("slides");
                let dots = document.getElementsByClassName("dot");
                let caption = document.getElementById("slideCaption");

                if (n > slides.length) { slideIndex = 1 }
                if (n < 1) { slideIndex = slides.length }

                for (let i = 0; i < slides.length; i++) {
                    slides[i].style.display = "none";
                }
                for (let i = 0; i < dots.length; i++) {
                    dots[i].className = dots[i].className.replace(" active", "");
                }

                slides[slideIndex-1].style.display = "block";
                dots[slideIndex-1].className += " active";

                // Update caption
                caption.innerHTML = slideCaptions[slideIndex-1];

                clearTimeout(slideTimer);
                slideTimer = setTimeout(() => plusSlides(1), 4000); // Auto next every 4s
            }

            function plusSlides(n) {
                showSlides(slideIndex += n);
            }

            function currentSlide(n) {
                showSlides(slideIndex = n);
            }

            // Initialize slideshow
            slideIndex = 1;
            showSlides(slideIndex);

            // Typing Animation
            const texts = [
            "Hello! My name is Mutale Musona. ", 
            "An information systems and technology student at the University Of Lusaka. ",
            "I am passionate about web development, AI, and computer graphics programming. ",
            "This portal showcases my results, extra projects, and more. "
            ];

            const typingDiv = document.getElementById("typing");
            let textIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            let speed = 1; // typing speed in ms

            function typeEffect() {
            const currentText = texts[textIndex];

            if (isDeleting) {
                typingDiv.textContent = currentText.substring(0, charIndex--);
                speed = 50; // faster delete
            } else {
                typingDiv.textContent = currentText.substring(0, charIndex++);
                speed = 100; // normal typing speed
            }

            if (!isDeleting && charIndex === currentText.length) {
                speed = 1500; // pause before deleting
                isDeleting = true;
            } else if (isDeleting && charIndex === 0) {
                isDeleting = false;
                textIndex = (textIndex + 1) % texts.length; // move to next text
                speed = 500; // pause before typing again
            }

            setTimeout(typeEffect, speed);
            }

            typeEffect();
            const video = document.getElementById("myVideo");
            const playPause = document.getElementById("playPause");
            const progress = document.getElementById("progress");
            const progressContainer = document.querySelector(".progress-container");
            const timeDisplay = document.getElementById("time");
            const volume = document.getElementById("volume");
            const controls = document.getElementById("controls");
            const videoPlayer = document.getElementById("videoPlayer");

            let hideControlsTimeout;

            // Play / Pause
            playPause.addEventListener("click", () => {
                if (video.paused) {
                    video.play();
                    playPause.textContent = "❚❚";
                } else {
                    video.pause();
                    playPause.textContent = "▶";
                }
            });

            // Update progress bar
            video.addEventListener("timeupdate", () => {
                const percent = (video.currentTime / video.duration) * 100;
                progress.style.width = percent + "%";
                timeDisplay.textContent = formatTime(video.currentTime) + " / " + formatTime(video.duration);
            });

            // Seek video
            progressContainer.addEventListener("click", (e) => {
                const rect = progressContainer.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                video.currentTime = (clickX / width) * video.duration;
            });

            // Volume control
            volume.addEventListener("input", () => {
                video.volume = volume.value;
            });

            // Format seconds
            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60) || 0;
                const secs = Math.floor(seconds % 60) || 0;
                return `${minutes}:${secs < 10 ? "0" : ""}${secs}`;
            }

            // Auto-hide controls
            function showControls() {
                controls.classList.remove("hide");
                clearTimeout(hideControlsTimeout);
                if (!video.paused) {
                    hideControlsTimeout = setTimeout(() => {
                        controls.classList.add("hide");
                    }, 3000);
                }
            }

            // Show controls on mouse/touch interaction
            videoPlayer.addEventListener("mousemove", showControls);
            videoPlayer.addEventListener("click", showControls);
            videoPlayer.addEventListener("touchstart", showControls);

            // Show controls when paused
            video.addEventListener("pause", () => controls.classList.remove("hide"));
            video.addEventListener("play", showControls);

            // Initialize
            showControls();
        </script>
        <script src="scripts/script.js"></script>
    </body>
</html>
